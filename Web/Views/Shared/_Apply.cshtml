@model Entities.InterjectionDTO.CustomPostingDTO
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
    <link href="~/lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
</head>
<body>



</body>
</html>
<div asp-validation-summary="All"></div>

<div id="MyPopup" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    &times;
                </button>
                <h4 class="modal-title">Customer Details</h4>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="row">
                        <div class="col-md-4">
                            @if (Model.CVDTOItems == null || Model.CVDTOItems.Count == 0)
                            {

                                <partial name="/Views/Shared/_UploadCV.cshtml" />

                            }
                            //else if (Model.CVDTOItems == null)
                            //{

                            //}
                            else
                            {
                                <form asp-action="ApplyPostingWeb" asp-controller="Posting" metod="post" data-ajax-success="OnSuccess" data-ajax="true">
                                    <div class="form-group">
                                        Id: <input id="txtId" name="Id" class="form-control" readonly="readonly" />
                                    </div>
                                    <div class="form-group">
                                        <label>Cvİsmi:</label>
                                        <select id="CvId" asp-for="@Model.CvId" class="form-control">
                                            <option value="">başvurmak için kullanmak istediginiz cvnizi seçiniz </option>

                                            @foreach (var item in Model.CVDTOItems)
                                            {
                                                <option value="@item.Id">@item.CvPathName</option>
                                            }
                                        </select>
                                        <span asp-validation-for="@Model.CvId" class="text-danger"></span>
                                    </div>
                                    

                                    <button>Kaydet</button>
                                </form>
                                }
                            </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <input type="button" id="btnClosePopup" value="Close" data-dismiss="modal" class="btn btn-danger" />
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">

            var OnSuccess = function (response) {
                alert("Success: " + response.success + " Mesaj:" + response.message);                  
    };


</script>






